<div class="radioTextBox">
    <label>@Question</label>
    <InputRadioGroup TValue="bool" @bind-Value="State">
        <InputRadio Value="true" @onclick="() => updateState(true)" />Yes
        <InputRadio Value="false" @onclick="() => updateState(false)" />No
    </InputRadioGroup>
    <br />
    @if (State)
    {
        <textarea rows="3" @bind="BoundAttributeValue"></textarea>
    }
    else
    {
        <textarea type="text" rows="3" disabled></textarea>
    }
</div>

@code {
    [Parameter]
    public string Question { get; set; }

    [Parameter]
    public string AttributeValue { get; set; }

    [Parameter]
    public EventCallback<string> AttributeValueChanged { get; set; }

    private string BoundAttributeValue
    {
        get => AttributeValue ?? "";
        set => AttributeValueChanged.InvokeAsync(value);
    }

    public bool State { get; set; } = false;

    private async Task updateState(bool value)
    {
        State = value;
        if (!State)
        {
            AttributeValue = "";
            BoundAttributeValue = "";
            await AttributeValueChanged.InvokeAsync("");
        }
    }
}
